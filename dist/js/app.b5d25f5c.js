(function(e){function t(t){for(var a,u,o=t[0],i=t[1],d=t[2],l=0,b=[];l<o.length;l++)u=o[l],Object.prototype.hasOwnProperty.call(r,u)&&r[u]&&b.push(r[u][0]),r[u]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);s&&s(t);while(b.length)b.shift()();return c.push.apply(c,d||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,o=1;o<n.length;o++){var i=n[o];0!==r[i]&&(a=!1)}a&&(c.splice(t--,1),e=u(u.s=n[0]))}return e}var a={},r={app:0},c=[];function u(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=e,u.c=a,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)u.d(n,a,function(t){return e[t]}.bind(null,a));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var d=0;d<o.length;d++)t(o[d]);var s=i;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},1232:function(e,t,n){},"1a4c":function(e,t,n){"use strict";n("1232")},"25bd":function(e,t,n){"use strict";n("e378")},"4a1c":function(e,t,n){},8387:function(e,t,n){"use strict";n("f33b")},"8ad4":function(e,t,n){},"8ef6":function(e,t,n){"use strict";n("8ad4")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function r(e,t,n,r,c,u){var o=Object(a["x"])("home");return Object(a["p"])(),Object(a["d"])("div",null,[Object(a["g"])(o)])}var c=Object(a["g"])("h1",null,"Your Reading Log",-1),u={class:"container"};function o(e,t,n,r,o,i){var d=Object(a["x"])("reading-form"),s=Object(a["x"])("progress-bar"),l=Object(a["x"])("reading-list"),b=Object(a["x"])("Calendar");return Object(a["p"])(),Object(a["d"])("div",null,[c,Object(a["g"])("div",u,[Object(a["g"])(d,{class:"col-span2"}),Object(a["g"])(s,{class:"col-span2"}),Object(a["g"])(l,{class:"col-span2"}),Object(a["g"])(b,{class:"col-span2"})])])}var i=Object(a["H"])("data-v-71b75a1e");Object(a["s"])("data-v-71b75a1e");var d={class:"list"},s={class:"button-group"};Object(a["q"])();var l=i((function(e,t,n,r,c,u){return Object(a["p"])(),Object(a["d"])("div",d,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(e.readList,(function(t){return Object(a["p"])(),Object(a["d"])("div",{key:t.date,class:"grid-2"},[Object(a["g"])("div",null,[Object(a["f"])(Object(a["z"])(e.formatDate(t.date))+" - "+Object(a["z"])(t.book)+" ",1),Object(a["F"])(Object(a["g"])("span",null,"("+Object(a["z"])(t.minutes)+" min)",513),[[a["D"],t.minutes]])]),Object(a["g"])("div",s,[Object(a["g"])("button",{class:"edit",onClick:function(n){return e.editItem(t)}},"Edit",8,["onClick"]),Object(a["g"])("button",{class:"delete",onClick:function(n){return e.deleteItem(t)}},"X",8,["onClick"])])])})),128))])})),b=(n("96cf"),n("1da1")),f=(n("4de4"),n("c740"),n("4160"),n("c975"),n("d81d"),n("a434"),n("d3b7"),n("ac1f"),n("25f0"),n("5319"),n("159b"),n("2909")),p=n("d4ec"),O=n("bee2"),g=n("262e"),v=n("2caf"),j=function(){function e(){Object(p["a"])(this,e);var t=this.data();this.setup(t),this.state=Object(a["t"])(t)}return Object(O["a"])(e,[{key:"setup",value:function(e){}},{key:"getState",value:function(){return Object(a["u"])(this.state)}}]),e}(),m="readingLog",y=function(e){Object(g["a"])(n,e);var t=Object(v["a"])(n);function n(){var e;return Object(p["a"])(this,n),e=t.call(this),e._data=null,e}return Object(O["a"])(n,[{key:"setLocalStorage",value:function(e){localStorage.setItem(m,JSON.stringify(e))}},{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)}))}},{key:"data",value:function(){if(!localStorage[m]){var e={readingLog:[],editItem:void 0};this.setLocalStorage(e)}return this._data=JSON.parse(localStorage[m]),this._data.readingLog.forEach((function(e){return e.date=new Date(e.date)})),this._data}},{key:"add",value:function(e){e.uuid=this.uuidv4(),this.state.readingLog.push(e),this.setLocalStorage(this.state)}},{key:"deleteItem",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){var r=n.state.readingLog.findIndex((function(e){return e.uuid===t.uuid}));r<0&&a("Item not found ".concat(t)),n.state.readingLog.splice(r,1),n.setLocalStorage(n.state),e("done")})));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setEditItem",value:function(e){this.state.editItem=e}},{key:"updateItem",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){var r=n.state.readingLog.findIndex((function(e){return e.uuid===t.uuid}));r<0&&a("Item not found ".concat(t)),n.state.readingLog.splice(r,1,t),n.state.editItem=void 0,n.setLocalStorage(n.state),e("updated")})));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"findByDay",value:function(e){var t=this.state.readingLog.filter((function(t){return t.date.toLocaleString()===e}));return t.length>0}},{key:"editItem",get:function(){return this.state.editItem}},{key:"readList",get:function(){return this.state.readingLog.sort((function(e,t){return t.date.getTime()-e.date.getTime()}))}},{key:"streaks",get:function(){for(var e=this.readList.map((function(e){return e.date.toLocaleString()})),t=e.filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return new Date(e)})),n=[[t[0]]],a=0,r=1,c=0,u=1;u<t.length;u++){var o=t[u],i=new Date(t[c]).setUTCHours(0,0,0,0),d=new Date(o).setUTCHours(0,0,0,0),s=864e5*r++;i-d===s?n[a].push(o):u<t.length-1&&(a++,n[a]=[o],r=1,c=u)}var l=n.map((function(e){return e.length})),b=l.indexOf(Math.max.apply(Math,Object(f["a"])(l))),p=n[b];return{streaks:n,currentStreak:n[0],longestStreak:p}}}]),n}(j),h=new y,k=Object(a["H"])("data-v-4b234f23");Object(a["s"])("data-v-4b234f23");var x={class:"field"},S=Object(a["g"])("label",{for:"book"},"Book: ",-1),I={class:"field"},w=Object(a["g"])("label",{for:"date"},"Date: ",-1),M={class:"field"},L=Object(a["g"])("label",{for:"time"},"Time: ",-1),D={class:"field"},F=Object(a["g"])("label",{for:"minutes"},"Minutes: ",-1),C={class:"field"},T=Object(a["g"])("label",null,"Pages (from-to): ",-1),Y=Object(a["g"])("span",null,"-",-1);Object(a["q"])();var P=k((function(e,t,n,r,c,u){return Object(a["p"])(),Object(a["d"])("div",null,[Object(a["g"])("div",x,[S,Object(a["F"])(Object(a["g"])("input",{name:"book",type:"text","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.book=t}),placeholder:"Enter Book..."},null,512),[[a["C"],e.book]])]),Object(a["g"])("div",I,[w,Object(a["F"])(Object(a["g"])("input",{name:"date",type:"date","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.dateStr=t})},null,512),[[a["C"],e.dateStr]])]),Object(a["g"])("div",M,[L,Object(a["F"])(Object(a["g"])("input",{name:"time",type:"time","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.time=t})},null,512),[[a["C"],e.time]])]),Object(a["g"])("div",D,[F,Object(a["F"])(Object(a["g"])("input",{name:"minutes",type:"number","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.minutes=t})},null,512),[[a["C"],e.minutes]])]),Object(a["g"])("div",C,[T,Object(a["g"])("div",null,[Object(a["F"])(Object(a["g"])("input",{name:"pagesFrom",type:"number","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.pageFrom=t})},null,512),[[a["C"],e.pageFrom]]),Y,Object(a["F"])(Object(a["g"])("input",{name:"pagesFrom",type:"number","onUpdate:modelValue":t[6]||(t[6]=function(t){return e.pageTo=t})},null,512),[[a["C"],e.pageTo]])])]),void 0===e.editItem?(Object(a["p"])(),Object(a["d"])("button",{key:0,class:"add",onClick:t[7]||(t[7]=function(){return e.add&&e.add.apply(e,arguments)})},"Add")):(Object(a["p"])(),Object(a["d"])("button",{key:1,class:"update",onClick:t[8]||(t[8]=function(){return e.update&&e.update.apply(e,arguments)})},"Update"))])})),_=(n("99af"),n("4d90"),n("1276"),n("5530")),A=Object(a["h"])({setup:function(){var e=Object(a["b"])((function(){return new Date})),t=Object(a["b"])((function(){return"".concat(e.value.getHours().toString().padStart(2,"0"),":").concat(e.value.getMinutes().toString().padStart(2,"0"))})),n=function(e){var t=e.getFullYear(),n=(e.getMonth()+1).toString().padStart(2,"0"),a=e.getDate().toString().padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(a)},r=function(e){var t=e.split("-");return new Date(+t[0],+t[1]-1,+t[2])},c=Object(a["t"])({uuid:null,book:"",date:e.value,notes:"",time:t.value,minutes:null,pageTo:null,pageFrom:null,dateStr:n(e.value)}),u=Object(a["b"])((function(){var e=h.editItem;return void 0!==e&&(console.log(h.editItem),c.uuid=e.uuid,c.book=e.book,c.date=e.date,c.time=e.time,c.notes=e.notes,c.minutes=e.minutes,c.pageFrom=e.pageFrom,c.pageTo=e.pageTo,c.dateStr=e.dateStr),e})),o=function(){var e={book:c.book,date:r(c.dateStr),notes:c.notes,time:c.time,minutes:c.minutes,pageTo:c.pageTo,pageFrom:c.pageFrom,dateStr:c.dateStr};h.add(e),d()},i=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={uuid:c.uuid,book:c.book,date:r(c.dateStr),notes:c.notes,time:c.time,minutes:c.minutes,pageTo:c.pageTo,pageFrom:c.pageFrom,dateStr:c.dateStr},e.next=3,h.updateItem(t);case 3:e.sent,d();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){c.uuid=null,c.book="",c.date=e.value,c.notes="",c.time=t.value,c.minutes=null,c.pageTo=null,c.pageFrom=null,c.dateStr=n(e.value)};return Object(_["a"])(Object(_["a"])({},Object(a["A"])(c)),{},{add:o,editItem:u,update:i})}});n("8ef6");A.render=P,A.__scopeId="data-v-4b234f23";var U=A,R=Object(a["h"])({components:{ReadingForm:U},setup:function(){var e=Object(a["b"])((function(){return h.readList})),t=function(e){return e.toLocaleDateString("en-US",{month:"short",day:"numeric"})},n=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,h.deleteItem(t);case 2:n=e.sent,console.log("done",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r=function(e){h.setEditItem(e)};return{readList:e,formatDate:t,deleteItem:n,editItem:r}}});n("cef5");R.render=l,R.__scopeId="data-v-71b75a1e";var N=R,H=(n("b0c0"),Object(a["H"])("data-v-5cf16e8e"));Object(a["s"])("data-v-5cf16e8e");var z={class:"full-calendar"},B={class:"grid-cal month"},J={class:"grid-cal month"},V={class:"grid-cal calendar"},E=Object(a["e"])('<div class="day title weekend" data-v-5cf16e8e>Sun</div><div class="day title" data-v-5cf16e8e>Mon</div><div class="day title" data-v-5cf16e8e>Tue</div><div class="day title" data-v-5cf16e8e>Wed</div><div class="day title" data-v-5cf16e8e>Thu</div><div class="day title" data-v-5cf16e8e>Fri</div><div class="day title weekend" data-v-5cf16e8e>Sat</div>',7);Object(a["q"])();var q=H((function(e,t,n,r,c,u){return Object(a["p"])(),Object(a["d"])("div",z,[Object(a["g"])("div",B,[Object(a["g"])("button",{onClick:t[1]||(t[1]=function(){return e.prevYear&&e.prevYear.apply(e,arguments)}),disabled:e.noPrevYear},"Next",8,["disabled"]),Object(a["g"])("div",null,[Object(a["g"])("span",{class:{hidden:e.editYear},onClick:t[2]||(t[2]=function(t){return e.editYear=!0})},Object(a["z"])(e.yearId),3),Object(a["F"])(Object(a["g"])("input",{class:{hidden:!e.editYear},type:"number","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.yearId=t}),onKeyup:t[4]||(t[4]=Object(a["G"])((function(t){return e.editYear=!1}),["enter"])),onBlur:t[5]||(t[5]=function(t){return e.editYear=!1})},null,34),[[a["C"],e.yearId]])]),Object(a["g"])("button",{onClick:t[6]||(t[6]=function(){return e.nextYear&&e.nextYear.apply(e,arguments)}),disabled:e.noNextYear},"Next",8,["disabled"])]),Object(a["g"])("div",J,[Object(a["g"])("button",{onClick:t[7]||(t[7]=function(){return e.prevMonth&&e.prevMonth.apply(e,arguments)}),disabled:e.noPrevMonth},"Prev",8,["disabled"]),Object(a["f"])(" "+Object(a["z"])(e.month.name)+" ",1),Object(a["g"])("button",{onClick:t[8]||(t[8]=function(){return e.nextMonth&&e.nextMonth.apply(e,arguments)}),disabled:e.noNextMonth},"Prev",8,["disabled"])]),Object(a["g"])("div",V,[E,(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(e.emptySlots,(function(e,t){return Object(a["p"])(),Object(a["d"])("div",{class:["day",{weekend:0===e}],key:t},null,2)})),128)),(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(e.month.days,(function(t){return Object(a["p"])(),Object(a["d"])("div",{class:["day",{weekend:0===t.getDay()||6===t.getDay(),thisMonth:e.isThisMonth(t),today:e.isToday(t),hasLog:e.findByDay(t)}],key:t},Object(a["z"])(t.getDate()),3)})),128))])])})),G=(n("a630"),n("3ca3"),n("ddb0"),n("7db0"),n("b85c"));function K(e){var t=["January","February","March","April","May","June","July","August","September","October","November","December"];return t[e]}var W=function(){var e=Object(a["t"])([{name:2020,months:[]},{name:2021,months:[]},{name:2022,months:[]}]),t=function(t){return e.findIndex((function(e){return e.name===t}))},n=function(n){return e[t(n)]},r=function(){var t,n=Array.from(Array(400).keys()).map((function(e){return e+1800})),a=Array.from(Array(12).keys()),r=Object(G["a"])(n);try{var c=function(){var n,r=t.value,c=e.find((function(e){return e.name===r})),o=[],i=Object(G["a"])(a);try{for(i.s();!(n=i.n()).done;){var d=n.value,s=u(r,d);o.push({id:d,name:K(d),days:s})}}catch(b){i.e(b)}finally{i.f()}if(c)c.months=o;else{var l={name:r,months:o};e.push(l)}};for(r.s();!(t=r.n()).done;)c()}catch(o){r.e(o)}finally{r.f()}function u(e,t){var n=new Date(e,t,1),a=[];while(n.getMonth()===t)a.push(new Date(n)),n.setDate(n.getDate()+1);return a}};r();var c="hi";return{getYearId:t,yearItem:n,test:c,years:e,getMonthName:K}},X=Object(a["h"])({setup:function(){var e=Object(a["t"])(W()),t=e.years,n=(e.getYearId,e.yearItem),r=function(e){return s.value===e.getMonth()},c=function(e){return e.toLocaleDateString("en-US")===u.value.toLocaleDateString("en-US")},u=Object(a["v"])(new Date),o=Object(a["t"])({yearId:u.value.getFullYear()});Object(a["E"])((function(){return o.yearId}),(function(e,t){o.yearId=+e}));var i=Object(a["b"])((function(){return n(o.yearId)})),d=Object(a["t"])({noPrevYear:Object(a["b"])((function(){return o.yearId===Math.min.apply(Math,Object(f["a"])(t.map((function(e){return e.name}))))})),noNextYear:Object(a["b"])((function(){return o.yearId===Math.max.apply(Math,Object(f["a"])(t.map((function(e){return e.name}))))})),prevYear:function(){o.yearId>1700&&o.yearId--},nextYear:function(){console.log("yearId",o.yearId),o.yearId<4e3&&o.yearId++},editYear:!1}),s=Object(a["v"])(u.value.getMonth()),l=Object(a["b"])((function(){return i.value.months[s.value]})),b=Object(a["t"])({noPrevMonth:Object(a["b"])((function(){return 0===s.value&&o.yearId===Math.min.apply(Math,Object(f["a"])(t.map((function(e){return e.name}))))})),noNextMonth:Object(a["b"])((function(){return 11===s.value&&o.yearId===Math.max.apply(Math,Object(f["a"])(t.map((function(e){return e.name}))))})),prevMonth:function(){s.value>0?s.value--:o.yearId>Math.min.apply(Math,Object(f["a"])(t.map((function(e){return e.name}))))-1&&(o.yearId--,s.value=11)},nextMonth:function(){s.value<11?s.value++:o.yearId<Math.max.apply(Math,Object(f["a"])(t.map((function(e){return e.name}))))+1&&(o.yearId++,s.value=0)}}),p=Object(a["b"])((function(){return Array.from(Array(l.value.days[0].getDay()).keys())})),O=function(e){return h.findByDay(e.toLocaleString())};return Object(_["a"])(Object(_["a"])(Object(_["a"])({isThisMonth:r,isToday:c,today:u,month:l,emptySlots:p,findByDay:O},Object(a["A"])(o)),Object(a["A"])(b)),Object(a["A"])(d))}});n("1a4c");X.render=q,X.__scopeId="data-v-5cf16e8e";var Q=X,Z={class:"progress-bar"},$={class:"progress"},ee={class:"progress"};function te(e,t,n,r,c,u){return Object(a["p"])(),Object(a["d"])("div",Z,[Object(a["f"])(" Current streak: "+Object(a["z"])(e.currentStreak.length)+" days ",1),Object(a["g"])("div",$,[Object(a["g"])("div",{class:"amount",style:{width:e.getPerc(e.currentStreak.length,100)+"%"}},null,4)]),Object(a["f"])(" Longest streak: "+Object(a["z"])(e.longestStreak.length)+" days ",1),Object(a["g"])("div",ee,[Object(a["g"])("div",{class:"amount longest",style:{width:e.getPerc(e.longestStreak.length,100)+"%"}},null,4)])])}var ne=Object(a["h"])({setup:function(){var e=Object(a["t"])({currentStreak:Object(a["b"])((function(){return h.streaks.currentStreak})),longestStreak:Object(a["b"])((function(){return h.streaks.longestStreak})),streaks:Object(a["b"])((function(){return h.streaks.streaks}))}),t=function(e,t){return e/t*100};return Object(_["a"])(Object(_["a"])({},Object(a["A"])(e)),{},{getPerc:t})}});n("25bd");ne.render=te;var ae=ne,re=Object(a["h"])({name:"Home",components:{ReadingList:N,Calendar:Q,ProgressBar:ae,ReadingForm:U}});re.render=o;var ce=re,ue=Object(a["h"])({name:"App",components:{Home:ce}});n("8387");ue.render=r;var oe=ue,ie=n("6c02"),de=[{path:"/",name:"Home",component:ce}],se={history:Object(ie["b"])(),routes:de},le=Object(ie["a"])(se);le.replace("/");var be=le;Object(a["c"])(oe).use(be).mount("#app")},cef5:function(e,t,n){"use strict";n("4a1c")},e378:function(e,t,n){},f33b:function(e,t,n){}});
//# sourceMappingURL=app.b5d25f5c.js.map